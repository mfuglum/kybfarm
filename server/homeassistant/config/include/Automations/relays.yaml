# ┌────────────────────────────────────────────────────────────────────────────┐
# │                        Relay Automations – KYBFarm                         │
# │         Forward input_booleans to MQTT relay control request topics        │
# └────────────────────────────────────────────────────────────────────────────┘


# ────────────────────────────── [Relay 01] Control ───────────────────────────── #
- alias: "Relay 01 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_1
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay01/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 01 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_1
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay01/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 02] Control ───────────────────────────── #
- alias: "Relay 02 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_2
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay02/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 02 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_2
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay02/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 03] Control ───────────────────────────── #
- alias: "Relay 03 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_3
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay03/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 03 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_3
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay03/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 04] Control ───────────────────────────── #
- alias: "Relay 04 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_4
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay04/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 04 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_4
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay04/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 05] Control ───────────────────────────── #
- alias: "Relay 05 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_5
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay05/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 05 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_5
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay05/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 06] Control ───────────────────────────── #
- alias: "Relay 06 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_6
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay06/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 06 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_6
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay06/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 07] Control ───────────────────────────── #
- alias: "Relay 07 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_7
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay07/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 07 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_7
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay07/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 08] Control ───────────────────────────── #
- alias: "Relay 08 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_8
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay08/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 08 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_8
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay08/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 09] Control ───────────────────────────── #
- alias: "Relay 09 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_9
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay09/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 09 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_9
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay09/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 10] Control ───────────────────────────── #
- alias: "Relay 10 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_10
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay10/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 10 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_10
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay10/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 11] Control ───────────────────────────── #
- alias: "Relay 11 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_11
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay11/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 11 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_11
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay11/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 12] Control ───────────────────────────── #
- alias: "Relay 12 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_12
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay12/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 12 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_12
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay12/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 13] Control ───────────────────────────── #
- alias: "Relay 13 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_13
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay13/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 13 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_13
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay13/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 14] Control ───────────────────────────── #
- alias: "Relay 14 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_14
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay14/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 14 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_14
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay14/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 15] Control ───────────────────────────── #
- alias: "Relay 15 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_15
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay15/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 15 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_15
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay15/req"
        payload: '{ "cmd": "off" }'


# ────────────────────────────── [Relay 16] Control ───────────────────────────── #
- alias: "Relay 16 • ON"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_16
      from: "off"
      to: "on"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay16/req"
        payload: '{ "cmd": "on" }'

- alias: "Relay 16 • OFF"
  trigger:
    - platform: state
      entity_id: input_boolean.relay_16
      from: "on"
      to: "off"
  action:
    - service: mqtt.publish
      data:
        qos: 0
        retain: true
        topic: "cmd/relay16/req"
        payload: '{ "cmd": "off" }'